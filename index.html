<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Browser Data Collection Demo</title>
    <style>
        :root {
            --primary: #2563eb;
            --secondary: #3b82f6;
            --accent: #60a5fa;
            --background: #f3f4f6;
            --card-bg: #ffffff;
            --text: #1f2937;
            --border: #e5e7eb;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text);
            background-color: var(--background);
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--card-bg);
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            color: var(--primary);
            margin-bottom: 10px;
        }
        
        .description {
            color: var(--text);
            max-width: 800px;
            margin: 0 auto;
        }
        
        .data-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .data-card {
            background: var(--card-bg);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .data-card h3 {
            color: var(--primary);
            margin-top: 0;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--border);
        }
        
        .data-item {
            margin-bottom: 15px;
        }
        
        .data-item:last-child {
            margin-bottom: 0;
        }
        
        .data-label {
            font-weight: bold;
            color: var(--secondary);
            display: block;
            margin-bottom: 5px;
        }
        
        .data-value {
            word-break: break-all;
            background: var(--background);
            padding: 8px 12px;
            border-radius: 5px;
            font-family: monospace;
        }
        
        .footer {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            color: var(--text);
            font-size: 0.9rem;
        }
        
        .last-updated {
            font-style: italic;
            margin-top: 10px;
        }
        
        @media (max-width: 768px) {
            .data-section {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Browser Data Collection Demo</h1>
            <p class="description">
                This page collects information that your browser makes available to websites without requiring special permissions.
                No data is sent to any server - everything is processed and displayed locally.
            </p>
        </header>
        
        <div class="data-section">
            <div class="data-card">
                <h3>Browser Information</h3>
                <div class="data-item">
                    <span class="data-label">User Agent</span>
                    <div class="data-value" id="user-agent"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Browser Name</span>
                    <div class="data-value" id="browser-name"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Browser Version</span>
                    <div class="data-value" id="browser-version"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Platform</span>
                    <div class="data-value" id="platform"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Language</span>
                    <div class="data-value" id="language"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Cookies Enabled</span>
                    <div class="data-value" id="cookies-enabled"></div>
                </div>
            </div>
            
            <div class="data-card">
                <h3>System Information</h3>
                <div class="data-item">
                    <span class="data-label">Screen Resolution</span>
                    <div class="data-value" id="screen-resolution"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Color Depth</span>
                    <div class="data-value" id="color-depth"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Available Screen Size</span>
                    <div class="data-value" id="available-screen"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Device Pixel Ratio</span>
                    <div class="data-value" id="pixel-ratio"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Hardware Concurrency</span>
                    <div class="data-value" id="hardware-concurrency"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Device Memory</span>
                    <div class="data-value" id="device-memory"></div>
                </div>
            </div>
            
            <div class="data-card">
                <h3>Connection & Media</h3>
                <div class="data-item">
                    <span class="data-label">Online Status</span>
                    <div class="data-value" id="online-status"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Connection Type</span>
                    <div class="data-value" id="connection-type"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Effective Connection</span>
                    <div class="data-value" id="effective-connection"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Timezone</span>
                    <div class="data-value" id="timezone"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Touch Support</span>
                    <div class="data-value" id="touch-support"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">WebRTC Support</span>
                    <div class="data-value" id="webrtc-support"></div>
                </div>
            </div>
        </div>
        
        <div class="data-section">
            <div class="data-card">
                <h3>Location Data (Approximate)</h3>
                <div class="data-item">
                    <span class="data-label">Public IP (via WebRTC)</span>
                    <div class="data-value" id="public-ip"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Geolocation (Requires Permission)</span>
                    <div class="data-value">Not requested in this demo</div>
                </div>
            </div>
            
            <div class="data-card">
                <h3>Storage & Performance</h3>
                <div class="data-item">
                    <span class="data-label">Local Storage</span>
                    <div class="data-value" id="local-storage"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Session Storage</span>
                    <div class="data-value" id="session-storage"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">IndexedDB Support</span>
                    <div class="data-value" id="indexeddb-support"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Cookies</span>
                    <div class="data-value" id="cookies"></div>
                </div>
            </div>
            
            <div class="data-card">
                <h3>Browser Capabilities</h3>
                <div class="data-item">
                    <span class="data-label">Java Enabled</span>
                    <div class="data-value" id="java-enabled"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">PDF Viewer</span>
                    <div class="data-value" id="pdf-viewer"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">Do Not Track</span>
                    <div class="data-value" id="do-not-track"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">WebGL Vendor</span>
                    <div class="data-value" id="webgl-vendor"></div>
                </div>
                <div class="data-item">
                    <span class="data-label">WebGL Renderer</span>
                    <div class="data-value" id="webgl-renderer"></div>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <p>This demo only collects information that is readily available from your browser without special permissions.</p>
            <p class="last-updated">Last updated: <span id="current-time"></span></p>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Set current time
            document.getElementById('current-time').textContent = new Date().toLocaleString();
            
            // Browser Information
            document.getElementById('user-agent').textContent = navigator.userAgent;
            document.getElementById('platform').textContent = navigator.platform;
            document.getElementById('language').textContent = navigator.language;
            document.getElementById('cookies-enabled').textContent = navigator.cookieEnabled ? 'Yes' : 'No';
            
            // Parse browser name and version from user agent
            const ua = navigator.userAgent;
            let browserName = "Unknown";
            let browserVersion = "Unknown";
            
            if (ua.includes("Chrome") && !ua.includes("Edg")) {
                browserName = "Chrome";
                browserVersion = ua.match(/Chrome\/([0-9.]+)/)[1];
            } else if (ua.includes("Firefox")) {
                browserName = "Firefox";
                browserVersion = ua.match(/Firefox\/([0-9.]+)/)[1];
            } else if (ua.includes("Safari") && !ua.includes("Chrome")) {
                browserName = "Safari";
                browserVersion = ua.match(/Version\/([0-9.]+)/)[1];
            } else if (ua.includes("Edg")) {
                browserName = "Edge";
                browserVersion = ua.match(/Edg\/([0-9.]+)/)[1];
            }
            
            document.getElementById('browser-name').textContent = browserName;
            document.getElementById('browser-version').textContent = browserVersion;
            
            // System Information
            document.getElementById('screen-resolution').textContent = `${screen.width} × ${screen.height}`;
            document.getElementById('color-depth').textContent = `${screen.colorDepth} bits`;
            document.getElementById('available-screen').textContent = `${screen.availWidth} × ${screen.availHeight}`;
            document.getElementById('pixel-ratio').textContent = window.devicePixelRatio;
            document.getElementById('hardware-concurrency').textContent = navigator.hardwareConcurrency || 'Not available';
            document.getElementById('device-memory').textContent = navigator.deviceMemory ? `${navigator.deviceMemory} GB` : 'Not available';
            
            // Connection & Media
            document.getElementById('online-status').textContent = navigator.onLine ? 'Online' : 'Offline';
            
            const connection = navigator.connection || navigator.mozConnection || navigator.webkitConnection;
            if (connection) {
                document.getElementById('connection-type').textContent = connection.type || 'Not available';
                document.getElementById('effective-connection').textContent = connection.effectiveType || 'Not available';
            } else {
                document.getElementById('connection-type').textContent = 'Not available';
                document.getElementById('effective-connection').textContent = 'Not available';
            }
            
            document.getElementById('timezone').textContent = Intl.DateTimeFormat().resolvedOptions().timeZone;
            document.getElementById('touch-support').textContent = 'ontouchstart' in window ? 'Yes' : 'No';
            document.getElementById('webrtc-support').textContent = !!(navigator.getUserMedia || navigator.webkitGetUserMedia || 
                navigator.mozGetUserMedia || navigator.msGetUserMedia) ? 'Yes' : 'No';
            
            // Get WebRTC IP (local IP, not public)
            function getIPAddress() {
                return new Promise((resolve) => {
                    const RTCPeerConnection = window.RTCPeerConnection || window.mozRTCPeerConnection || window.webkitRTCPeerConnection;
                    
                    if (!RTCPeerConnection) {
                        resolve('WebRTC not supported');
                        return;
                    }
                    
                    const pc = new RTCPeerConnection({ iceServers: [] });
                    pc.createDataChannel("");
                    pc.createOffer().then(offer => pc.setLocalDescription(offer)).catch(() => {});
                    
                    pc.onicecandidate = (ice) => {
                        if (!ice || !ice.candidate || !ice.candidate.candidate) {
                            resolve('Not available');
                            return;
                        }
                        
                        const candidate = ice.candidate.candidate;
                        const match = candidate.match(/([0-9]{1,3}(\.[0-9]{1,3}){3}|[a-f0-9]{1,4}(:[a-f0-9]{1,4}){7})/);
                        resolve(match ? match[1] : 'Not available');
                    };
                });
            }
            
            getIPAddress().then(ip => {
                document.getElementById('public-ip').textContent = ip;
            });
            
            // Storage & Performance
            document.getElementById('local-storage').textContent = typeof(Storage) !== "undefined" ? 'Supported' : 'Not supported';
            document.getElementById('session-storage').textContent = typeof(Storage) !== "undefined" ? 'Supported' : 'Not supported';
            document.getElementById('indexeddb-support').textContent = 'indexedDB' in window ? 'Supported' : 'Not supported';
            document.getElementById('cookies').textContent = navigator.cookieEnabled ? 'Enabled' : 'Disabled';
            
            // Browser Capabilities
            document.getElementById('java-enabled').textContent = navigator.javaEnabled() ? 'Yes' : 'No';
            document.getElementById('pdf-viewer').textContent = navigator.pdfViewerEnabled !== undefined ? (navigator.pdfViewerEnabled ? 'Yes' : 'No') : 'Unknown';
            document.getElementById('do-not-track').textContent = navigator.doNotTrack || 'Not set';
            
            // WebGL information
            const canvas = document.createElement('canvas');
            const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
            
            if (gl) {
                const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                if (debugInfo) {
                    document.getElementById('webgl-vendor').textContent = gl.getParameter(debugInfo.UNMASKED_VENDOR_WEBGL);
                    document.getElementById('webgl-renderer').textContent = gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
                } else {
                    document.getElementById('webgl-vendor').textContent = 'Not available';
                    document.getElementById('webgl-renderer').textContent = 'Not available';
                }
            } else {
                document.getElementById('webgl-vendor').textContent = 'WebGL not supported';
                document.getElementById('webgl-renderer').textContent = 'WebGL not supported';
            }
            
            // Log all data to console as well
            console.log("Browser Information:", {
                userAgent: navigator.userAgent,
                browserName,
                browserVersion,
                platform: navigator.platform,
                language: navigator.language,
                cookiesEnabled: navigator.cookieEnabled
            });
            
            console.log("System Information:", {
                screenResolution: `${screen.width} × ${screen.height}`,
                colorDepth: `${screen.colorDepth} bits`,
                availableScreen: `${screen.availWidth} × ${screen.availHeight}`,
                pixelRatio: window.devicePixelRatio,
                hardwareConcurrency: navigator.hardwareConcurrency,
                deviceMemory: navigator.deviceMemory
            });
            
            console.log("Connection & Media:", {
                onlineStatus: navigator.onLine,
                connectionType: connection ? connection.type : 'Not available',
                effectiveConnection: connection ? connection.effectiveType : 'Not available',
                timezone: Intl.DateTimeFormat().resolvedOptions().timeZone,
                touchSupport: 'ontouchstart' in window,
                webRTCSupport: !!(navigator.getUserMedia || navigator.webkitGetUserMedia || 
                    navigator.mozGetUserMedia || navigator.msGetUserMedia)
            });
        });
    </script>
</body>
</html>
